#!/usr/bin/env zsh

#export MANPAGER=vimpager
#export PAGER=vimpager
#alias less=$PAGER

# ENV
export EDITOR=vim
export ZSH=$HOME/.oh-my-zsh

# PATH
if [ -z "$ZSH_PATH_INIT" ]
then
    export ZSH_PATH_INIT=1
    [ -e ~/bin ] &&
        export PATH="$(find ~/bin -type d | tr '\n' :)$PATH"

    [ -e ~/.local/bin ] &&
        export PATH="$HOME/.local/bin:$PATH"

    [ -e ~/.tfenv/bin ] &&
        export PATH="$(echo ~/.tfenv/bin):$PATH"

    [ -e "$HOME/.nix-profile/etc/profile.d/nix.sh" ] &&
        . "$HOME/.nix-profile/etc/profile.d/nix.sh"

    command -v direnv &> /dev/null && eval "$(direnv hook zsh)"

    if [ -e ~/.rbenv/bin ]; then
        # git clone https://github.com/rbenv/rbenv.git ~/.rbenv
        # git clone https://github.com/rbenv/ruby-build.git ~/.rbenv/plugins/ruby-build
        export PATH="$HOME/.rbenv/bin:$PATH"
        eval "$(rbenv init -)"
    fi

    if [ -e ~/code/go/pkgs/bin ]; then
        export PATH="$PATH:$HOME/code/go/pkgs/bin"
        export GOPATH="$HOME/code/go/pkgs"
    fi

    [ -d /opt/android-sdk/platform-tools ] &&
        export PATH="$PATH:/opt/android-sdk/platform-tools"

    if [ -e ~/down/perl5 ]; then
        # generated by cpan
        export PATH="$HOME/down/perl5/bin${PATH:+:${PATH}}"
        export PERL5LIB="$HOME/down/perl5/lib/perl5${PERL5LIB:+:${PERL5LIB}}"
        export PERL_LOCAL_LIB_ROOT="$HOME/down/perl5${PERL_LOCAL_LIB_ROOT:+:${PERL_LOCAL_LIB_ROOT}}"
        export PERL_MB_OPT="--install_base \"/$HOME/down/perl5\""
        export PERL_MM_OPT="INSTALL_BASE=$HOME/down/perl5"
    fi
fi
